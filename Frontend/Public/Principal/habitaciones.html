<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habitaciones - Gran Hotel El Libertador</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="habitaciones.css">
    <link rel="stylesheet" href="modal.css">
    <link rel="stylesheet" href="reserva-modal.css?v=6.0">
    <link rel="stylesheet" href="pago-modal.css?v=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Playfair+Display:wght@400;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="icon" href="/img/nuevo%20logo%20favicon.png" type="image/png">
</head>

<body class="bg-principal">

    <header class="header">
        <nav class="top-nav">
            <picture>
                <source media="(max-width: 600px)" srcset="https://placehold.co/100x100/8B4513/FDF6E3?text=Logo">
                <img src="/img/LOGO-LARGO.png"
                    alt="Logo de Gran Hotel El Libertador" class="logo">
            </picture>
        </nav>

        <nav class="auth-nav">
            <div id="authButtons">
                <button class="auth-link" data-modal-target="loginModal"><img src="/img/logo_login.png" alt="Iniciar SesiÃ³n" class="login-icon"> Iniciar SesiÃ³n</button>
            </div>
            <!-- Botones visibles si hay sesiÃ³n iniciada -->
            <div id="userProfile" class="hidden flex items-center space-x-4">
                <span id="userName" class="text-white text-lg font-semibold"></span>
                <button id="profileBtn" class="auth-link"><i class="fas fa-user fa-lg"></i><span> Mi Perfil</span></button>
                <button id="logoutBtn" class="auth-link"><i class="fas fa-sign-out-alt fa-lg"></i><span> Cerrar SesiÃ³n</span></button>
            </div>
        </nav>
        <nav class="main-nav">
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#buscar habitaciones">Buscar Habitaciones</a></li>
                <li><a href="index#bienvenida.html">InformaciÃ³n</a></li>
                <li><a href="index.html#servicios">Servicios</a></li>
                <li><a href="index.html#ubicacion">UbicaciÃ³n</a></li>
                <li><a href="index.html#contacto">Contacto</a></li>
            </ul>

            </ul>
        </nav>
    </header>

    <main>
        <section id="filtros">
            <div class="filtros-container">
                <div class="filtro-item">
                    <label for="categoria">CategorÃ­a:</label>
                    <select id="categoria" class="form-input">
                        <option value="">Todas</option>
                    </select>
                </div>
                <div class="filtro-item">
                    <label for="fechaCheckin">Fecha Check-in:</label>
                    <input type="datetime-local" id="fechaCheckin" class="form-input">
                </div>
                <div class="filtro-item">
                    <label for="fechaCheckout">Fecha Check-out:</label>
                    <input type="datetime-local" id="fechaCheckout" class="form-input">
                </div>
                <div class="filtro-item">
                    <label for="precioMin">Precio MÃ­nimo:</label>
                    <input type="number" id="precioMin" placeholder="S/" class="form-input">
                </div>
                <div class="filtro-item">
                    <label for="precioMax">Precio MÃ¡ximo:</label>
                    <input type="number" id="precioMax" placeholder="S/" class="form-input">
                </div>
                <div class="filtro-item">
                    <label for="capacidad">Capacidad:</label>
                    <select id="capacidad" class="form-input">
                        <option value="">Todas</option>
                        <option value="1">1 persona</option>
                        <option value="2">2 personas</option>
                        <option value="3">3 personas</option>
                        <option value="4">4+ personas</option>
                    </select>
                </div>
                <div class="filtro-item">
                    <button id="btnBuscar" class="btn-primary">Buscar</button>
                    <button id="btnLimpiar" class="btn-secondary">Limpiar</button>
                </div>
            </div>
        </section>

        <section id="resultados">
            <h2 class="titulo-seccion">Habitaciones Disponibles</h2>
            <div id="habitacionGrid" class="habitacion-grid">
                <!-- Las tarjetas de habitaciones se renderizarÃ¡n aquÃ­ -->
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Gran Hotel El Libertador. Todos los derechos reservados.</p>
        <p>Av. MalecÃ³n de la Reserva 615, Miraflores, Lima, PerÃº</p>
    </footer>

    <!-- MODAL LOGIN -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal-close="loginModal">&times;</span>
            <h2>Iniciar SesiÃ³n</h2>
            <form id="loginForm">
                <input type="email" id="loginEmail" placeholder="Correo electrÃ³nico" required class="form-input">
                <input type="password" id="loginPassword" placeholder="ContraseÃ±a" required class="form-input">
                <p id="loginMessage" class="text-red-500 my-2 text-center"></p>
                <button type="submit" class="btn-submit">Ingresar</button>
            </form>
            <p class="form-footer">
                Â¿No tienes cuenta?
                <a href="#" class="switch-modal" data-switch-modal-current="loginModal"
                    data-switch-modal-next="registerModal">RegÃ­strate aquÃ­</a>.
            </p>
        </div>
    </div>

    <!-- MODAL REGISTRO -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal-close="registerModal">&times;</span>
            <h2>Crear Cuenta</h2>
            <form id="registerForm">
                <input type="text" id="registerName" placeholder="Nombre completo" required class="form-input">
                <input type="email" id="registerEmail" placeholder="Correo electrÃ³nico" required class="form-input">
                <input type="password" id="registerPassword" placeholder="ContraseÃ±a" required class="form-input">
                <p id="registerMessage" class="text-red-500 my-2 text-center"></p>
                <button type="submit" class="btn-submit">Crear Cuenta</button>
            </form>
            <p class="form-footer">
                Â¿Ya tienes cuenta?
                <a href="#" class="switch-modal" data-switch-modal-current="registerModal"
                    data-switch-modal-next="loginModal">Inicia sesiÃ³n</a>.
            </p>
        </div>
    </div>

    <!-- MODAL RESERVA -->
    <div id="reservaModal" class="modal">
        <div class="modal-content reserva-modal-content">
            <span class="close-modal" data-modal-close="reservaModal">&times;</span>
            <h2>Reservar Habitación</h2>
            <div class="reserva-container">
                <!-- COLUMNA 1: Datos de la Habitación + Fechas -->
                <div class="reserva-info-column">
                    <p id="reservaHabitacionNombre" class="reserva-nombre"></p>
                    <p id="reservaHabitacionCategoria" class="reserva-info"></p>
                    <p id="reservaHabitacionPiso" class="reserva-info"></p>
                    <p id="reservaHabitacionCapacidad" class="reserva-info"></p>
                    <p id="reservaHabitacionPrecioDia" class="reserva-info reserva-precio"></p>
                    
                    <!-- FECHAS DEBAJO DE LOS DATOS -->
                    <label for="fechaCheckinModal">Fecha de Check-in:</label>
                    <input type="datetime-local" id="fechaCheckinModal" required class="form-input">
                    
                    <label for="fechaCheckoutModal">Fecha de Check-out:</label>
                    <input type="datetime-local" id="fechaCheckoutModal" required class="form-input">
                </div>

                <!-- COLUMNA 2: Servicios adicionales -->
                <div class="reserva-form-column">
                    <h4>Servicios Adicionales (Upselling)</h4>
                    <label><input type="checkbox" id="upsell-desayuno" value="20"> Desayuno Premium (+S/20)</label><br>
                    <label><input type="checkbox" id="upsell-romantico" value="50"> Paquete RomÃ¡ntico (+S/50)</label><br>
                    <label><input type="checkbox" id="upsell-spa" value="30"> SesiÃ³n de Spa (+S/30)</label><br>
                    <label><input type="checkbox" id="upsell-late-checkout" value="15"> Late Check-out (+S/15)</label><br>
                    
                    <p id="reservaMessage" class="text-red-500 my-2 text-center"></p>
                </div>

                <!-- COLUMNA 3: Imagen y botÃ³n -->
                <div class="reserva-imagen-column">
                    <div class="reserva-imagen">
                        <img id="reservaHabitacionImagen" src="/img/habitaciones/default-room.jpg" alt="Habitación" class="reserva-img">
                    </div>
                    
                    <!-- BOTÃ“N DEBAJO DE LA IMAGEN -->
                    <form id="reservaForm">
                        <button type="submit" id="btnConfirmarReserva" class="btn-confirmar-reserva" disabled>Confirmar Reserva <i class="fas fa-check"></i></button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL PAGO -->
    <div id="pagoModal" class="modal">
        <div class="modal-content pago-modal-content">
            <span class="close-modal" data-modal-close="pagoModal">&times;</span>
            <h2>Confirmar Pago</h2>
            <div class="pago-resumen">
                <div class="pago-info-card">
                    <h3>ðŸ“‹ Resumen de Reserva</h3>
                    <div class="pago-detalle">
                        <span>Total a pagar:</span>
                        <strong>S/ <span id="pagoMontoTotal">0.00</span></strong>
                    </div>
                    <div class="pago-detalle">
                        <span>Monto mÃ­nimo (50%):</span>
                        <strong>S/ <span id="pagoMontoMinimo">0.00</span></strong>
                    </div>
                    <div class="pago-detalle">
                        <span>NÃºmero de días:</span>
                        <strong><span id="pagoDias">0</span> días</strong>
                    </div>
                </div>
                
                <div class="pago-form-section">
                    <form id="pagoForm">
                        <div class="pago-form-row">
                            <div class="form-group">
                                <label for="pagoMonto">Monto a pagar:</label>
                                <input type="number" id="pagoMonto" step="0.10" required class="form-input" placeholder="Ingrese el monto">
                                <small class="form-hint">MÃ­nimo 50% del total para confirmar la reserva</small>
                            </div>

                            <div class="form-group">
                                <label for="pagoMetodo">MÃ©todo de Pago:</label>
                                <select id="pagoMetodo" required class="form-input">
                                    <option value="">Seleccionar mÃ©todo</option>
                                    <option value="tarjeta">Tarjeta de CrÃ©dito/DÃ©bito</option>
                                    <option value="yape">Yape</option>
                                    <option value="plin">Plin</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="pagoComprobante">NÃºmero de Comprobante (opcional):</label>
                                <input type="text" id="pagoComprobante" class="form-input" placeholder="Ej: YAPE-123456">
                                <small class="form-hint">Si pagaste por Yape/Plin, ingresa el nÃºmero de operaciÃ³n</small>
                            </div>
                        </div>

                        <div class="pago-simulacion">
                            <p class="text-sm text-gray-600">
                                <i class="fas fa-info-circle"></i> Este es un sistema de pago simulado. 
                                En producciÃ³n se integrarÃ­a con pasarelas de pago reales.
                            </p>
                        </div>

                        <p id="pagoMessage" class="text-red-500 my-2 text-center"></p>
                        
                        <button type="submit" id="btnPagar" class="btn-confirmar-pago">
                            <i class="fas fa-lock"></i> Confirmar Pago
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DETALLES DE RESERVA -->
    <div id="detallesReservaModal" class="modal">
        <div class="modal-content reserva-modal-content">
            <span class="close-modal" data-modal-close="detallesReservaModal">&times;</span>
            <h2>Detalles de la Reserva</h2>
            <div class="reserva-container">
                <!-- COLUMNA 1: Imagen de la Habitación -->
                <div class="reserva-imagen-detalle">
                    <img id="detalleHabitacionImagen" src="" alt="Habitación" class="reserva-img">
                    <!-- InformaciÃ³n bÃ¡sica debajo de la imagen -->
                    <div class="detalle-info-basica">
                        <p><strong>CategorÃ­a:</strong> <span id="detalleCategoria"></span></p>
                        <p><strong>Estado:</strong> <span id="detalleEstado" class="badge-estado"></span></p>
                    </div>
                </div>
                
                <!-- COLUMNA 2: Estado de Pago y BotÃ³n -->
                <div class="reserva-detalles-info">
                    <!-- Fechas de la reserva -->
                    <div class="detalle-info-group">
                        <p><strong>Check-in:</strong> <span id="detalleFechaCheckin"></span></p>
                        <p><strong>Check-out:</strong> <span id="detalleFechaCheckout"></span></p>
                        <p><strong>Fecha de creaciÃ³n:</strong> <span id="detalleFechaCreacion"></span></p>
                    </div>
                    
                    <!-- Barra de progreso de pago -->
                    <div class="detalle-info-group pago-progress-section">
                        <h4>Estado de Pago</h4>
                        <div class="pago-progress-container">
                            <div class="pago-progress-bar">
                                <div id="pagoProgressFill" class="pago-progress-fill"></div>
                            </div>
                            <div class="pago-progress-labels">
                                <span class="pago-label-pagado">Pagado: <strong id="detallePagado">S/ 0.00</strong></span>
                                <span class="pago-label-pendiente">Pendiente: <strong id="detalleFaltaPagar">S/ 0.00</strong></span>
                            </div>
                            <div class="pago-progress-total">
                                <span>Total de la reserva: <strong id="detalleTotal">S/ 0.00</strong></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- BotÃ³n para completar el pago -->
                    <div class="detalle-info-group">
                        <button id="btnCompletarPago" class="btn-completar-pago" style="display: none;">
                            <i class="fas fa-credit-card"></i> Completar Pago
                        </button>
                    </div>
                </div>
                
                <!-- COLUMNA 3: Formulario de Solicitudes -->
                <div class="reserva-reclamo-column">
                    <h4>Enviar Solicitud sobre esta Reserva</h4>
                    <form id="reclamoReservaForm">
                        <label for="tipoSolicitud">Tipo de solicitud:</label>
                        <select id="tipoSolicitud" class="form-input" required>
                            <option value="">Seleccionar tipo</option>
                            <option value="reclamo">Reclamo o Queja</option>
                            <option value="pedido">Pedido Adicional</option>
                            <option value="limpieza">Solicitar Limpieza</option>
                        </select>
                        
                        <label for="reclamoDescripcion">DescripciÃ³n:</label>
                        <textarea id="reclamoDescripcion" class="form-input" rows="4" placeholder="Describe tu solicitud..." required></textarea>
                        <input type="hidden" id="reclamoHabitacionId" value="">
                        <input type="hidden" id="reclamoReservaId" value="">
                        <p id="reclamoMessage" class="text-red-500 my-2 text-center"></p>
                        <button type="submit" class="btn-submit">Enviar Solicitud</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL CONFIRMAR PAGO COMPLETO -->
    <div id="confirmarPagoCompletoModal" class="modal">
        <div class="modal-content pago-completo-modal-content">
            <span class="close-modal" data-modal-close="confirmarPagoCompletoModal">&times;</span>
            <div class="pago-completo-container">
                <div class="pago-completo-icon">
                    <i class="fas fa-credit-card"></i>
                </div>
                <h2 class="pago-completo-title">Completar Pago</h2>
                <p class="pago-completo-message">Â¿Desea completar el pago de <strong id="montoPendienteModal">S/ 0.00</strong>?</p>
                
                <div class="pago-completo-info">
                    <div class="info-item">
                        <span class="info-label">Total de la reserva:</span>
                        <span class="info-value" id="totalReservaModal">S/ 0.00</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ya pagado:</span>
                        <span class="info-value text-green" id="yaPagadoModal">S/ 0.00</span>
                    </div>
                    <div class="info-item highlight">
                        <span class="info-label">Pendiente a pagar:</span>
                        <span class="info-value text-red" id="pendientePagarModal">S/ 0.00</span>
                    </div>
                </div>

                <div class="pago-completo-buttons">
                    <button id="btnCancelarPagoCompleto" class="btn-cancelar">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <button id="btnConfirmarPagoCompleto" class="btn-confirmar">
                        <i class="fas fa-check"></i> Confirmar Pago
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL PREVISUALIZACIÃ“N BOLETA -->
    <div id="boletaModal" class="modal boleta-modal">
        <div class="modal-content">
            <span class="close-modal" data-modal-close="boletaModal">&times;</span>
            <h2>PrevisualizaciÃ³n de Boleta</h2>
            <div class="boleta-preview-container">
                <div id="boletaContent" class="boleta-content boleta-a5">
                    <!-- El contenido de la boleta se insertarÃ¡ aquÃ­ -->
                </div>
            </div>
            <div class="boleta-buttons">
                <button id="btnFormatoA5" class="btn-print">Formato A5</button>
                <button id="btnFormatoTicket" class="btn-ticket">Formato Ticket</button>
                <button id="btnImprimirBoleta" class="btn-print">Imprimir</button>
                <button id="btnCerrarBoleta" class="btn-close-boleta">Cerrar</button>
            </div>
        </div>
    </div>

    <script src="habitaciones.js"></script>
</body>

</html>
